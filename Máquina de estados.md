Se basa en estados y trancisiones.